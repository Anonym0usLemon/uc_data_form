// taken from https://acilab.foxycart.com/files/foxycart_includes.js
// and removed jQuery + Sizzle portion (12/15/10) because they break dropdowns (no delay() in that version of jQuery)

if (typeof (FoxyDomain) == 'undefined') {
	var FoxyDomain = "acilab.foxycart.com";
}

// foxybox.js (slightly modified ThickBox 3.1) RAW: https://admin.foxycart.com/v/0.6.0/raw/foxybox.js
if (!fc_tb_pathToImage) { var fc_tb_pathToImage = "https://admin.foxycart.com/files/images/loadingAnimation.gif"; }
/*!!!!!!!!!!!!!!!! edit below this line at your own risk !!!!!!!!!!!!!!!!!!!!!!!*/
jQuery(document).ready(function() { fc_tb_init("a.foxycart"); imgLoader = new Image(); imgLoader.src = fc_tb_pathToImage }); function fc_tb_init(a) { jQuery(a).click(function() { var c = this.title || this.name || null; var b = this.href || this.alt; var d = this.rel || false; if (this.href.match("cart=checkout") || this.href.match("cart=updateinfo")) { location.href = this.href } else { if (typeof (fc_PreProcess) == "function" && !this.href.match("cart=view")) { MyFoxyData = this.href.substring(this.href.indexOf("?") + 1); MyFoxyID = jQuery(this).attr("id"); if (!fc_PreProcess(MyFoxyData, MyFoxyID)) { return false } } fc_tb_show(c, b, d) } this.blur(); return false }) } function fc_tb_show(i, b, g) { try { if (typeof document.body.style.maxHeight === "undefined") { jQuery("body", "html").css({ height: "100%", width: "100%" }); jQuery("html").css("overflow", "hidden"); if (document.getElementById("fc_tb_HideSelect") === null) { jQuery("body").append("<iframe id='fc_tb_HideSelect' src='https://admin.foxycart.com/empty.html'></iframe><div id='fc_tb_overlay'></div><div id='fc_tb_window'></div>"); jQuery("#fc_tb_overlay").click(fc_tb_remove) } } else { if (document.getElementById("fc_tb_overlay") === null) { jQuery("body").append("<div id='fc_tb_overlay'></div><div id='fc_tb_window'></div>"); jQuery("#fc_tb_overlay").click(fc_tb_remove) } } if (fc_tb_detectMacXFF()) { jQuery("#fc_tb_overlay").addClass("fc_tb_overlayMacFFBGHack") } else { jQuery("#fc_tb_overlay").addClass("fc_tb_overlayBG") } if (i === null) { i = "" } jQuery("body").append("<div id='fc_tb_load'><img src='" + imgLoader.src + "' /></div>"); jQuery("#fc_tb_load").show(); var c; if (b.indexOf("?") !== -1) { c = b.substr(0, b.indexOf("?")) } else { c = b } var f = /\.jpg$|\.jpeg$|\.png$|\.gif$|\.bmp$/; var j = c.toLowerCase().match(f); var a = b.replace(/^[^\?]+\??/, ""); var d = fc_tb_parseQuery(a); if (typeof (fc_tb_WIDTH) == "undefined") { fc_tb_WIDTH = (d["x:width"] * 1) + 30 || 650 } if (typeof (fc_tb_HEIGHT) == "undefined") { fc_tb_HEIGHT = (d["x:height"] * 1) + 40 || 450 } ajaxContentW = fc_tb_WIDTH - 30; ajaxContentH = fc_tb_HEIGHT - 45; b = b.replace(/'/g, "%27"); jQuery("#fc_tb_iframeContent").remove(); jQuery("#fc_tb_window").append("<div id='fc_tb_titleTop' class='fc_tb_title'><div id='fc_tb_ajaxWindowTitleTop' class='fc_tb_ajaxWindowTitle'>" + i + "</div><div class='fc_tb_closeAjaxWindow' id='fc_tb_closeAjaxWindowTop'><a href='#' class='fc_tb_closeWindowButton fc_link_nav' id='fc_tb_closeWindowButtonTop' title='Close'>close</a> <span>or Esc Key</span></div></div><iframe frameborder='0' hspace='0' src='" + b + "' id='fc_tb_iframeContent' name='fc_tb_iframeContent" + Math.round(Math.random() * 1000) + "' onload='fc_tb_showIframe()' style='width:" + (ajaxContentW + 29) + "px;height:" + (ajaxContentH + 17) + "px;' > </iframe> <div class='fc_tb_title' id='fc_tb_titleBot'><div class='fc_tb_closeAjaxWindow' id='fc_tb_closeAjaxWindowBot'><a href='#' class='fc_tb_closeWindowButton fc_link_nav' id='fc_tb_closeWindowButtonBot' title='Continue Shopping'><span>&laquo;</span>Continue Shopping</a></div></div>"); jQuery("#fc_tb_closeWindowButtonTop, #fc_tb_closeWindowButtonBot").click(fc_tb_remove); fc_tb_position(); if (jQuery.browser.safari) { jQuery("#fc_tb_load").remove(); jQuery("#fc_tb_window").css({ display: "block" }) } if (!d.modal) { document.onkeyup = function(k) { if (k == null) { keycode = event.keyCode } else { keycode = k.which } if (keycode == 27) { fc_tb_remove() } } } } catch (h) { } } function fc_tb_showIframe() { jQuery("#fc_tb_load").remove(); jQuery("#fc_tb_window").css({ display: "block" }) } function fc_tb_remove() { jQuery("#fc_tb_imageOff").unbind("click"); jQuery("#fc_tb_closeWindowButtonTop, #fc_tb_closeWindowButtonBot").unbind("click"); jQuery("#fc_tb_window").fadeOut("fast", function() { jQuery("#fc_tb_window,#fc_tb_overlay,#fc_tb_HideSelect").trigger("unload").unbind().remove() }); jQuery("#fc_tb_load").remove(); fc_UpdateCart(FoxyDomain); if (typeof document.body.style.maxHeight == "undefined") { jQuery("body", "html").css({ height: "auto", width: "auto" }); jQuery("html").css("overflow", "") } document.onkeydown = ""; document.onkeyup = ""; return false } function fc_tb_position() { jQuery("#fc_tb_window").css({ marginLeft: "-" + parseInt((fc_tb_WIDTH / 2), 10) + "px", width: fc_tb_WIDTH + "px" }); if (!(jQuery.browser.msie && jQuery.browser.version < 7)) { jQuery("#fc_tb_window").css({ marginTop: "-" + parseInt((fc_tb_HEIGHT / 2), 10) + "px" }) } } function fc_tb_parseQuery(d) { var e = {}; if (!d) { return e } var a = d.split(/[;&]/); for (var c = 0; c < a.length; c++) { var g = a[c].split("="); if (!g || g.length != 2) { continue } var b = unescape(g[0]); var f = unescape(g[1]); f = f.replace(/\+/g, " "); e[b] = f } return e } function fc_tb_getPageSize() { var c = document.documentElement; var a = window.innerWidth || self.innerWidth || (c && c.clientWidth) || document.body.clientWidth; var b = window.innerHeight || self.innerHeight || (c && c.clientHeight) || document.body.clientHeight; arrayPageSize = [a, b]; return arrayPageSize } function fc_tb_detectMacXFF() { var a = navigator.userAgent.toLowerCase(); if (a.indexOf("mac") != -1 && a.indexOf("firefox") != -1) { return true } };

// foxycart.js RAW: https://admin.foxycart.com/v/0.6.0/raw/foxycart.js
jQuery(document).ready(function() { if (location.href.substring(location.href.lastIndexOf("/") + 1, location.href.lastIndexOf("/") + 5) != "cart") { fc_UpdateCart(FoxyDomain); jQuery("form.foxycart").submit(function() { MyFoxyData = jQuery(this).serialize(false); MyFoxyID = jQuery(this).attr("id"); if (typeof (fc_PreProcess) == "function") { if (!fc_PreProcess(MyFoxyData, MyFoxyID)) { return false } } if (MyFoxyData.match("cart=checkout") || MyFoxyData.match("redirect=")) { location.href = "https://" + FoxyDomain + "/cart.php?" + MyFoxyData + fc_AddSession() } else { fc_tb_show(null, "https://" + FoxyDomain + "/cart.php?" + MyFoxyData + fc_AddSession(), false); jQuery("a.fc_tb_closeWindowButton").click(function() { fc_UpdateCart(FoxyDomain); return false }) } return false }) } }); function fc_FoxyJSON(a) { fc_json = a; (a.product_count > 0) ? jQuery("#fc_minicart").show() : jQuery("#fc_minicart").css("display", "none"); jQuery("#fc_quantity").html("" + a.product_count); jQuery("#fc_total_price").html("" + fc_CurrencyFormatted(a.total_price)); if (typeof (fc_BuildFoxyCart) == "function") { fc_BuildFoxyCart() } } function fc_UpdateCart(a) { jQuery.getScript("https://" + a + "/cart.php?cart=get&callback=fc_FoxyJSON&noCacheIE=" + (new Date()).getTime() + fc_AddSession()) } function fc_AddSession() { sessionName = "fcsid"; sessionString = ""; fc_regex = /#fcsid=([A-Za-z0-9]*)/; if (fc_regex.test(window.location.href)) { fc_match = fc_regex.exec(window.location.href); sessionString = fc_match[1]; fc_CookieSet(sessionName, sessionString) } else { if (document.cookie.indexOf(sessionName + "=") > -1) { c_start = document.cookie.indexOf(sessionName + "="); if (c_start != -1) { c_start = c_start + sessionName.length + 1; c_end = document.cookie.indexOf(";", c_start); if (c_end == -1) { c_end = document.cookie.length } sessionString = unescape(document.cookie.substring(c_start, c_end)) } } else { if (fc_json) { sessionString = fc_json.session_id; fc_CookieSet(sessionName, sessionString) } } } if (sessionString != "") { return "&fcsid=" + sessionString } else { return "" } } function fc_CookieSet(a, b) { domain = window.location.href.split("/"); domain = domain[2]; pos1 = domain.lastIndexOf("."); pos2 = domain.lastIndexOf(".", pos1 - 1); if (pos2 > 1) { domain = domain.substr(pos2) } else { domain = "." + domain } document.cookie = a + "=" + escape(b) + ";path=/;domain=" + domain; return true } function fc_CookieFix() { jQuery("a:not([href*=fcsid])").filter("[href*=" + FoxyDomain + "]").each(function() { jQuery(this).attr("href", jQuery(this).attr("href") + fc_AddSession()) }) } function fc_CurrencyFormatted(b) { var a = parseFloat(b); if (isNaN(a)) { a = 0 } var c = ""; if (a < 0) { c = "-" } a = Math.abs(a); a = parseInt((a + 0.005) * 100); a = a / 100; s = new String(a); if (s.indexOf(".") < 0) { s += ".00" } if (s.indexOf(".") == (s.length - 2)) { s += "0" } s = c + s; return s } var fc_json; var fc_FoxyCart; var fc_scriptCounter = 0;